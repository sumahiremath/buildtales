<div class="personal-branding">
  <style>
    .personal-branding {
      font-size: 1.25em;
    }
    .personal-branding .ghibli-avatar {
      width: 25px;
      height: 25px;
      object-fit: cover;
      border-radius: 50%;
      border: 1px solid #ccc;
      padding: 1px;
      box-sizing: border-box;
      background: #fff;
      margin: 0;
      box-shadow: none;
    }
    .personal-branding-icon-link {
      width: 20px;
      height: 20px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      vertical-align: middle;
      padding: 0;
      margin: 0 2px;
      border-radius: 50%;
      background: none;
      border: none;
      box-shadow: none;
      position: relative;
    }
    .personal-branding .personal-branding-icon {
      width: 16px !important;
      height: 16px !important;
      vertical-align: middle;
    }
    .personal-branding .copied-tooltip {
      display: none;
      position: absolute;
      top: -22px;
      left: 50%;
      transform: translateX(-50%);
      background: #222;
      color: #fff;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.8em;
      z-index: 10;
      white-space: nowrap;
    }
    .personal-branding .personal-branding-icon-link.copied .copied-tooltip {
      display: block;
    }
  </style>
  <img src="/assets/images/ghibli-avatar.jpg" alt="Suma Manjunath" class="ghibli-avatar">
  <div class="author-info">
    <div class="author-name">Author: Suma Manjunath</div>
    <div class="publish-date">
      Published on: {{ page.date | date: "%B %d, %Y" }}
      <div class="social-icons">
        <!-- Twitter -->
        <a href="https://twitter.com/intent/tweet?text={{ page.title | url_encode }}&url={{ page.url | absolute_url }}&via=buildtales"
           target="_blank" rel="noopener" class="personal-branding-icon-link" title="Share on Twitter">
          <svg class="personal-branding-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53A4.48 4.48 0 0 0 22.4.36a9.1 9.1 0 0 1-2.88 1.1 4.52 4.52 0 0 0-7.71 4.12A12.94 12.94 0 0 1 3.16 1.64a4.52 4.52 0 0 0 1.4 6.04A4.41 4.41 0 0 1 2 7.2v.06a4.52 4.52 0 0 0 3.63 4.43 4.52 4.52 0 0 1-2.04.08 4.52 4.52 0 0 0 4.22 3.14A9.05 9.05 0 0 1 2 19.54a12.94 12.94 0 0 0 7 2.05c8.38 0 12.96-6.94 12.96-12.96 0-.2 0-.42-.02-.63A9.36 9.36 0 0 0 23 3z"/>
          </svg>
        </a>
        <!-- LinkedIn -->
        <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url }}"
           target="_blank" rel="noopener" class="personal-branding-icon-link" title="Share on LinkedIn">
          <svg class="personal-branding-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
          </svg>
        </a>
        <!-- Facebook -->
        <a href="https://www.facebook.com/sharer/sharer.php?u={{ page.url | absolute_url }}"
           target="_blank" rel="noopener" class="personal-branding-icon-link" title="Share on Facebook">
          <svg class="personal-branding-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M22.675 0h-21.35C.6 0 0 .6 0 1.325v21.351C0 23.4.6 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.413c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.464.099 2.796.143v3.24h-1.918c-1.504 0-1.796.716-1.796 1.764v2.314h3.587l-.467 3.622h-3.12V24h6.116C23.4 24 24 23.4 24 22.676V1.325C24 .6 23.4 0 22.675 0z"/>
          </svg>
        </a>
        <!-- Copy Link -->
        <button id="personal-branding-copy-link"
                class="personal-branding-icon-link" title="Copy link" type="button">
          <svg class="personal-branding-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M15.5 10a.75.75 0 0 1 0 1.5h-7a.75.75 0 0 1 0-1.5h7zm-2-7a5 5 0 0 1 0 10h-7a5 5 0 0 1 0-10h7zm0 1.5h-7a3.5 3.5 0 0 0 0 7h7a3.5 3.5 0 0 0 0-7z"/>
          </svg>
          <span class="copied-tooltip">Copied!</span>
        </button>
      </div>
    </div>
    {% if page.last_modified_at %}
    <div class="update-date">Updated on: {{ page.last_modified_at | date: "%B %d, %Y" }}</div>
    {% endif %}
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var copyBtn = document.getElementById('personal-branding-copy-link');
    if (copyBtn) {
      copyBtn.addEventListener('click', function() {
        var url = "{{ page.url | absolute_url }}";
        // Clipboard API fallback
        if (navigator.clipboard) {
          navigator.clipboard.writeText(url).then(function() {
            showCopied(copyBtn);
          }, function() {
            fallbackCopyTextToClipboard(url);
            showCopied(copyBtn);
          });
        } else {
          fallbackCopyTextToClipboard(url);
          showCopied(copyBtn);
        }
      });
    }
    function fallbackCopyTextToClipboard(text) {
      var textarea = document.createElement("textarea");
      textarea.value = text;
      document.body.appendChild(textarea);
      textarea.focus();
      textarea.select();
      try {
        document.execCommand('copy');
      } catch (err) {}
      document.body.removeChild(textarea);
    }
    function showCopied(btn) {
      btn.classList.add('copied');
      setTimeout(function() {
        btn.classList.remove('copied');
      }, 1200);
    }
  });
</script>
